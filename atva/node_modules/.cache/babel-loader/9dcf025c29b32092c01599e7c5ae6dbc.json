{"ast":null,"code":"/*\n  Brill's POS Testing class\n  Copyright (C) 2017 Hugo W.L. ter Doest\n\n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n*/\nfunction Brill_POS_Tester() {}\n\nBrill_POS_Tester.prototype.test = function (corpus, tagger) {\n  var totalWords = 0;\n  var correctTagsLexicon = 0;\n  var correctTagsAfterRules = 0; // Tag the corpus using the tagger\n\n  corpus.sentences.forEach(function (sentence) {\n    var s = sentence.taggedWords.map(function (token) {\n      return token.token;\n    }); // Use the lexicon to tag the sentence\n\n    var taggedSentence = tagger.tagWithLexicon(s); // Count the right tags\n\n    sentence.taggedWords.forEach(function (token, i) {\n      totalWords++;\n\n      if (token.tag === taggedSentence.taggedWords[i].tag) {\n        correctTagsLexicon++;\n      }\n    }); // Use the rule set to tag the sentence\n\n    var taggedSentenceAfterRules = tagger.applyRules(taggedSentence); // Count the right tags\n\n    sentence.taggedWords.forEach(function (token, i) {\n      if (token.tag === taggedSentenceAfterRules.taggedWords[i].tag) {\n        correctTagsAfterRules++;\n      }\n    });\n  }); // Return percentage right\n\n  return [100 * correctTagsLexicon / totalWords, 100 * correctTagsAfterRules / totalWords];\n};\n\nmodule.exports = Brill_POS_Tester;","map":{"version":3,"sources":["/Users/tenzy/Documents/work/vata-hackathon-fe/atva/node_modules/natural/lib/natural/brill_pos_tagger/lib/Brill_POS_Tester.js"],"names":["Brill_POS_Tester","prototype","test","corpus","tagger","totalWords","correctTagsLexicon","correctTagsAfterRules","sentences","forEach","sentence","s","taggedWords","map","token","taggedSentence","tagWithLexicon","i","tag","taggedSentenceAfterRules","applyRules","module","exports"],"mappings":"AAAA;;;;;;;;;;;;;;;;;AAkBA,SAASA,gBAAT,GAA4B,CAE3B;;AAEDA,gBAAgB,CAACC,SAAjB,CAA2BC,IAA3B,GAAkC,UAASC,MAAT,EAAiBC,MAAjB,EAAyB;AACzD,MAAIC,UAAU,GAAG,CAAjB;AACA,MAAIC,kBAAkB,GAAG,CAAzB;AACA,MAAIC,qBAAqB,GAAG,CAA5B,CAHyD,CAKzD;;AACAJ,EAAAA,MAAM,CAACK,SAAP,CAAiBC,OAAjB,CAAyB,UAASC,QAAT,EAAmB;AAC1C,QAAIC,CAAC,GAAGD,QAAQ,CAACE,WAAT,CAAqBC,GAArB,CAAyB,UAASC,KAAT,EAAgB;AAC/C,aAAOA,KAAK,CAACA,KAAb;AACD,KAFO,CAAR,CAD0C,CAK1C;;AACA,QAAIC,cAAc,GAAGX,MAAM,CAACY,cAAP,CAAsBL,CAAtB,CAArB,CAN0C,CAO1C;;AACAD,IAAAA,QAAQ,CAACE,WAAT,CAAqBH,OAArB,CAA6B,UAASK,KAAT,EAAgBG,CAAhB,EAAmB;AAC9CZ,MAAAA,UAAU;;AACV,UAAIS,KAAK,CAACI,GAAN,KAAcH,cAAc,CAACH,WAAf,CAA2BK,CAA3B,EAA8BC,GAAhD,EAAqD;AACnDZ,QAAAA,kBAAkB;AACnB;AACF,KALD,EAR0C,CAe1C;;AACA,QAAIa,wBAAwB,GAAGf,MAAM,CAACgB,UAAP,CAAkBL,cAAlB,CAA/B,CAhB0C,CAiB1C;;AACAL,IAAAA,QAAQ,CAACE,WAAT,CAAqBH,OAArB,CAA6B,UAASK,KAAT,EAAgBG,CAAhB,EAAmB;AAC9C,UAAIH,KAAK,CAACI,GAAN,KAAcC,wBAAwB,CAACP,WAAzB,CAAqCK,CAArC,EAAwCC,GAA1D,EAA+D;AAC7DX,QAAAA,qBAAqB;AACtB;AACF,KAJD;AAKD,GAvBD,EANyD,CA+BzD;;AACA,SAAO,CAAC,MAAMD,kBAAN,GAA0BD,UAA3B,EAAuC,MAAME,qBAAN,GAA8BF,UAArE,CAAP;AACD,CAjCD;;AAmCAgB,MAAM,CAACC,OAAP,GAAiBtB,gBAAjB","sourcesContent":["/*\n  Brill's POS Testing class\n  Copyright (C) 2017 Hugo W.L. ter Doest\n\n  This program is free software: you can redistribute it and/or modify\n  it under the terms of the GNU General Public License as published by\n  the Free Software Foundation, either version 3 of the License, or\n  (at your option) any later version.\n\n  This program is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  GNU General Public License for more details.\n\n  You should have received a copy of the GNU General Public License\n  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\nfunction Brill_POS_Tester() {\n\n}\n\nBrill_POS_Tester.prototype.test = function(corpus, tagger) {\n  var totalWords = 0;\n  var correctTagsLexicon = 0;\n  var correctTagsAfterRules = 0;\n\n  // Tag the corpus using the tagger\n  corpus.sentences.forEach(function(sentence) {\n    var s = sentence.taggedWords.map(function(token) {\n      return token.token;\n    });\n\n    // Use the lexicon to tag the sentence\n    var taggedSentence = tagger.tagWithLexicon(s);\n    // Count the right tags\n    sentence.taggedWords.forEach(function(token, i) {\n      totalWords++;\n      if (token.tag === taggedSentence.taggedWords[i].tag) {\n        correctTagsLexicon++;\n      }\n    });\n\n    // Use the rule set to tag the sentence\n    var taggedSentenceAfterRules = tagger.applyRules(taggedSentence);\n    // Count the right tags\n    sentence.taggedWords.forEach(function(token, i) {\n      if (token.tag === taggedSentenceAfterRules.taggedWords[i].tag) {\n        correctTagsAfterRules++;\n      }\n    });\n  });\n\n  // Return percentage right\n  return [100 * correctTagsLexicon/ totalWords, 100 * correctTagsAfterRules / totalWords];\n};\n\nmodule.exports = Brill_POS_Tester;\n"]},"metadata":{},"sourceType":"script"}