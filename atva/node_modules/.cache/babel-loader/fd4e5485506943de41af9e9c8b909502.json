{"ast":null,"code":"import _classCallCheck from\"/Users/tenzy/Documents/work/vata-hackathon-fe/atva/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tenzy/Documents/work/vata-hackathon-fe/atva/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/tenzy/Documents/work/vata-hackathon-fe/atva/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/tenzy/Documents/work/vata-hackathon-fe/atva/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/tenzy/Documents/work/vata-hackathon-fe/atva/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import cx from'classnames';import{withRouter}from\"react-router-dom\";import{documentUrl}from\"../../../../utils\";import{createDocument}from\"../../../../utils/fetch\";import withToast from\"../../../Toast\";import\"./style.css\";var SideBar=/*#__PURE__*/function(_Component){_inherits(SideBar,_Component);function SideBar(){var _getPrototypeOf2;var _this;_classCallCheck(this,SideBar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SideBar)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.getDocumentUrl=function(){var href=window.location.href;return href;};_this.getUrlBoxRef=function(ref){if(ref){_this.urlBoxRef=ref;}};_this.handleChangeTitle=function(e){var title=e.target.value;_this.props.onChangeDocumentTitle(title);};_this.handleCopyButton=function(){if(_this.urlBoxRef){_this.urlBoxRef.select();document.execCommand(\"copy\");_this.props.showToast();}};_this.handleStartRecording=function(){var _this$props=_this.props,documentId=_this$props.documentId,documentTitle=_this$props.documentTitle;if(documentId){_this.props.onStartRecording();}else if(documentTitle){createDocument(documentTitle).then(function(data){console.log(\"Start Recording...\");var dochash=data&&data.doc_hash;if(dochash){// const documentHash = dochash;\n_this.props.setDocumentId(dochash);_this.props.onStartRecording();// this.props.history.push(documentUrl(documentHash));\n}else{alert(\"Document cannot be created\");}});}else{alert(\"Please write the document's name before starting!\");}};_this.handleRecordNext=function(){console.log(\"Recording Next Section...\");_this.props.handleRecordNext();};_this.handleStopRecording=function(){console.log(\"Stop Recording...\");_this.props.onStopRecording();};return _this;}_createClass(SideBar,[{key:\"render\",value:function render(){var _this$props2=this.props,documentTitle=_this$props2.documentTitle,isRecording=_this$props2.isRecording;return React.createElement(\"div\",{className:\"sidebar-container\"},React.createElement(\"div\",{className:\"sidebar\"},React.createElement(\"div\",null,React.createElement(\"div\",{className:\"sidebar-section\"},React.createElement(\"div\",{className:\"sidebar-label\"},\"Meeting Title\"),React.createElement(\"input\",{type:\"text\",className:\"sidebar-input-box\",value:documentTitle,placeholder:\"Type meeting topic here\",onChange:this.handleChangeTitle})),React.createElement(\"div\",{className:\"sidebar-section\"},React.createElement(\"div\",{className:\"sidebar-label\"},\"Share\"),React.createElement(\"div\",{className:\"sidebar-url-container\"},React.createElement(\"input\",{type:\"text\",className:\"sidebar-link-box\",readOnly:true,value:this.getDocumentUrl(),ref:this.getUrlBoxRef,onClick:this.handleCopyButton})))),React.createElement(\"div\",{className:\"sidebar-buttons\"},React.createElement(\"div\",{className:\"sidebar-section\"},React.createElement(\"button\",{className:\"button sidebar-start-button\",onClick:isRecording?this.handleRecordNext:this.handleStartRecording},isRecording?\"Record Next Section\":\"Start Recording\")),React.createElement(\"div\",{className:\"sidebar-section\"},React.createElement(\"button\",{className:cx(\"button-red sidebar-start-button\",{\"button-disabled\":!isRecording}),onClick:this.handleStopRecording,disabled:!isRecording},\"Stop Recording\")))));}}]);return SideBar;}(Component);export default withToast(withRouter(SideBar),\"Url Copied to Clipboard!\");","map":{"version":3,"sources":["/Users/tenzy/Documents/work/vata-hackathon-fe/atva/src/components/Body/components/SideBar/index.js"],"names":["React","Component","cx","withRouter","documentUrl","createDocument","withToast","SideBar","getDocumentUrl","href","window","location","getUrlBoxRef","ref","urlBoxRef","handleChangeTitle","e","title","target","value","props","onChangeDocumentTitle","handleCopyButton","select","document","execCommand","showToast","handleStartRecording","documentId","documentTitle","onStartRecording","then","data","console","log","dochash","doc_hash","setDocumentId","alert","handleRecordNext","handleStopRecording","onStopRecording","isRecording"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport cx from 'classnames';\nimport { withRouter } from \"react-router-dom\";\n\nimport { documentUrl } from \"../../../../utils\";\nimport { createDocument } from \"../../../../utils/fetch\";\n\nimport withToast from \"../../../Toast\";\n\nimport \"./style.css\";\n\nclass SideBar extends Component {\n  urlBoxRef;\n\n  getDocumentUrl = () => {\n    const href = window.location.href;\n\n    return href;\n  };\n\n  getUrlBoxRef = ref => {\n    if (ref) {\n      this.urlBoxRef = ref;\n    }\n  };\n\n  handleChangeTitle = e => {\n    const title = e.target.value;\n\n    this.props.onChangeDocumentTitle(title);\n  };\n\n  handleCopyButton = () => {\n    if (this.urlBoxRef) {\n      this.urlBoxRef.select();\n      document.execCommand(\"copy\");\n      this.props.showToast();\n    }\n  };\n\n  handleStartRecording = () => {\n    const { documentId, documentTitle } = this.props;\n    if (documentId) {\n      this.props.onStartRecording();\n    } else if (documentTitle) {\n      createDocument(documentTitle).then(data => {\n        console.log(\"Start Recording...\");\n        const dochash = data && data.doc_hash;\n        if (dochash) {\n          // const documentHash = dochash;\n          this.props.setDocumentId(dochash);\n          this.props.onStartRecording();\n          // this.props.history.push(documentUrl(documentHash));\n        } else {\n          alert(\"Document cannot be created\");\n        }\n      });\n    } else {\n      alert(\"Please write the document's name before starting!\");\n    }\n  };\n\n  handleRecordNext = () => {\n    console.log(\"Recording Next Section...\");\n    this.props.handleRecordNext();\n  };\n\n  handleStopRecording = () => {\n    console.log(\"Stop Recording...\");\n    this.props.onStopRecording();\n  };\n\n  render() {\n    const { documentTitle, isRecording } = this.props;\n\n    return (\n      <div className=\"sidebar-container\">\n        <div className=\"sidebar\">\n          <div>\n            <div className=\"sidebar-section\">\n              <div className=\"sidebar-label\">Meeting Title</div>\n              <input\n                type=\"text\"\n                className=\"sidebar-input-box\"\n                value={documentTitle}\n                placeholder=\"Type meeting topic here\"\n                onChange={this.handleChangeTitle}\n              />\n            </div>\n            <div className=\"sidebar-section\">\n              <div className=\"sidebar-label\">Share</div>\n              <div className=\"sidebar-url-container\">\n                <input\n                  type=\"text\"\n                  className=\"sidebar-link-box\"\n                  readOnly\n                  value={this.getDocumentUrl()}\n                  ref={this.getUrlBoxRef}\n                  onClick={this.handleCopyButton}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"sidebar-buttons\">\n            <div className=\"sidebar-section\">\n              <button\n                className=\"button sidebar-start-button\"\n                onClick={\n                  isRecording\n                    ? this.handleRecordNext\n                    : this.handleStartRecording\n                }\n              >\n                {isRecording ? \"Record Next Section\" : \"Start Recording\"}\n              </button>\n            </div>\n            <div className=\"sidebar-section\">\n              <button\n                className={cx(\"button-red sidebar-start-button\", {\n                  \"button-disabled\": !isRecording\n                })}\n                onClick={this.handleStopRecording}\n                disabled={!isRecording}\n              >\n                Stop Recording\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withToast(withRouter(SideBar), \"Url Copied to Clipboard!\");\n"]},"metadata":{},"sourceType":"module"}